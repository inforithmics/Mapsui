<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>v2.0 Upgrade Guide </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="v2.0 Upgrade Guide ">
    
    
      <link rel="shortcut icon" href="../images/favicon.ico">
      <link rel="stylesheet" href="../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../styles/docfx.css">
      <link rel="stylesheet" href="../styles/main.css">
      <meta property="docfx:navrel" content="../toc.json">
      <meta property="docfx:tocrel" content="toc.json">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../images/logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>

                <ul class="nav level1 navbar-nav">
                      <li>
                          <a href="../documentation/getting-started-maui.html" title="Documentation">Documentation</a>
                      </li>
                      <li>
                          <a>API</a>
                      </li>
                </ul>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidefilter">
                <form class="toc-filter">
                  <span class="glyphicon glyphicon-filter filter-icon"></span>
                  <input type="text" id="toc_filter_input" placeholder="Enter here to filter..." onkeypress="if(event.keyCode==13) {return false;}">
                </form>
              </div>
              <div class="sidetoc">
                <div class="toc" id="toc">

                  <ul class="nav level1">
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Quickstarts</a>

                        <ul class="nav level2">
                          <li class="">
                            <a href="getting-started-maui.html" title="Quickstart MAUI" class="">Quickstart MAUI</a>
                          </li>
                          <li class="">
                            <a href="getting-started-wpf.html" title="Quickstart WPF" class="">Quickstart WPF</a>
                          </li>
                          <li class="">
                            <a href="getting-started-avalonia.html" title="Quickstart Avalonia" class="">Quickstart Avalonia</a>
                          </li>
                          <li class="">
                            <a href="getting-started-blazor.html" title="Quickstart Blazor" class="">Quickstart Blazor</a>
                          </li>
                          <li class="">
                            <a href="getting-started-winui.html" title="Quickstart WinUI" class="">Quickstart WinUI</a>
                          </li>
                          <li class="">
                            <a href="getting-started-uno-winui.html" title="Quickstart Uno WinUI" class="">Quickstart Uno WinUI</a>
                          </li>
                          <li class="">
                            <a href="getting-started-eto.html" title="Quickstart Eto" class="">Quickstart Eto</a>
                          </li>
                          <li class="">
                            <a href="getting-started-xamarin-forms.html" title="Quickstart Xamarin.Forms" class="">Quickstart Xamarin.Forms</a>
                          </li>
                          <li class="">
                            <a href="getting-started-uno.html" title="Quickstart Uno" class="">Quickstart Uno</a>
                          </li>
                          <li class="">
                            <a href="getting-started-android.html" title="Quickstart Android" class="">Quickstart Android</a>
                          </li>
                          <li class="">
                            <a href="getting-started-ios.html" title="Quickstart iOS" class="">Quickstart iOS</a>
                          </li>
                        </ul>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="home.html" title="Introduction" class="">Introduction</a>

                        <ul class="nav level2">
                          <li class="">
                            <a href="samples.html" title="Samples" class="">Samples</a>
                          </li>
                          <li class="">
                            <a href="logging.html" title="Logging" class="">Logging</a>
                          </li>
                          <li class="">
                            <a href="roadmap.html" title="Roadmap" class="">Roadmap</a>
                          </li>
                          <li class="">
                            <a href="faq.html" title="Frequently Asked Questions" class="">Frequently Asked Questions</a>
                          </li>
                          <li class="">
                            <a href="nuget-of-latest-build.html" title="NuGet of Latest Build" class="">NuGet of Latest Build</a>
                          </li>
                        </ul>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Upgrade guides</a>

                        <ul class="nav level2">
                          <li class="active">
                            <a href="v2.0-upgrade-guide.html" title="v2.0 Upgrade Guide" class="active">v2.0 Upgrade Guide</a>
                          </li>
                          <li class="">
                            <a href="v4.0-upgrade-guide.html" title="v4.0 Upgrade Guide" class="">v4.0 Upgrade Guide</a>
                          </li>
                          <li class="">
                            <a href="v5.0-upgrade-guide.html" title="v5.0 Upgrade Guide" class="">v5.0 Upgrade Guide</a>
                          </li>
                        </ul>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">How Things Work</a>

                        <ul class="nav level2">
                          <li class="">
                            <a href="mapsui-components.html" title="Mapsui Components" class="">Mapsui Components</a>
                          </li>
                          <li class="">
                            <a href="async-fetching.html" title="Asynchronous Data Fetching" class="">Asynchronous Data Fetching</a>
                          </li>
                          <li class="">
                            <a href="resolution.html" title="Resolution" class="">Resolution</a>
                          </li>
                          <li class="">
                            <a href="device-independent-units.html" title="Device Independent Units" class="">Device Independent Units</a>
                          </li>
                          <li class="">
                            <a href="projections.html" title="Projections" class="">Projections</a>
                          </li>
                          <li class="">
                            <a href="custom-style-renders.html" title="Custom Style Renderers" class="">Custom Style Renderers</a>
                          </li>
                          <li class="">
                            <a href="performance-widget.html" title="Performance Widget" class="">Performance Widget</a>
                          </li>
                        </ul>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Contributing to Mapsui</a>

                        <ul class="nav level2">
                          <li class="">
                            <a href="contributors-guidelines.html" title="Contributors Guidelines" class="">Contributors Guidelines</a>
                          </li>
                          <li class="">
                            <a href="rendering-tests.html" title="Rendering Tests" class="">Rendering Tests</a>
                          </li>
                          <li class="">
                            <a href="documentation.html" title="Documentation" class="">Documentation</a>
                          </li>
                          <li class="">
                            <a href="touch-and-mouse-handling.html" title="Touch and mouse handling" class="">Touch and mouse handling</a>
                          </li>
                        </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="v20-upgrade-guide">v2.0 Upgrade Guide</h1>

<p>This is the incomplete upgrade guide from v1.4 to v2.0.
The most apparent changes will be mentioned here. If you notice
important things missing then please post an issue.</p>
<h4 id="moved-from-pcl-to-net-standard-20">Moved from PCL to .NET Standard 2.0</h4>
<p>Look up compatible frameworks in <a href="https://docs.microsoft.com/en-us/dotnet/standard/net-standard#net-implementation-support">this table</a>.</p>
<h4 id="viewport-moved-from-map-to-mapcontrol-and-is-readonly">Viewport moved from Map to MapControl and is readonly</h4>
<p>Use MapControl.Navigator instead.</p>
<h4 id="moved-mapcontrolnavigateto-methods-to-mapcontrolnavigator">Moved MapControl.NavigateTo methods to MapControl.Navigator</h4>
<p>All user map manipulation should go the the Navigator.</p>
<h4 id="introduced-maphome-to-initialze-the-map-viewport">Introduced Map.Home to initialze the map viewport</h4>
<p>There is now a Home delegate on the Map object that should be used to set
the initial state of the map.</p>
<pre><code class="lang-c#">MapControl.Map.Home = n =&gt; n.NavigateTo(myCenter, myResolution);
</code></pre>
<p><strong>Reason:</strong> This is because in some cases the Navigate
methods depend on the envelope and resolutions of the layers and in some
cases it takes time for these layers to load their data.</p>
<h4 id="added-mappanlock-mapzoomlock-and-maprotationlock">Added Map.PanLock, Map.ZoomLock and Map.RotationLock</h4>
<p>The lock fields can be used on all platforms to lock the user from
a certain kind of map manipulation.</p>
<h4 id="added-maplimiter-to-limit-the-extent-to-which-the-user-can-navigate">Added Map.Limiter to limit the extent to which the user can navigate</h4>
<p>The Limter is an implementation of IViewportLimiter. There are currently
three limiters part of Mapsui:</p>
<ul>
<li>ViewportLimiter (default)</li>
<li>ViewportLimiterKeepWithin</li>
<li>ViewportLimiterWithoutLimits
It is also possible to implement your own IViewportLimiter.</li>
</ul>
<h4 id="added-refreshgraphics-refreshdata-and-refresh">Added RefreshGraphics, RefreshData and Refresh</h4>
<ul>
<li>Use RefreshGraphics if you know the data in the layer has changed and the graphics needs refreshing.</li>
<li>Use RefreshData if you know there is new data available in the source.</li>
<li>Use Refresh if you need to do both.
These methods should only be needed if you manipulate data somehow in your own code.</li>
</ul>
<h4 id="renamed-boundingbox-getcentroid-to-centroid-and-getboundingbox-to-boundingbox">Renamed BoundingBox GetCentroid to Centroid and GetBoundingBox to BoundingBox</h4>
<p>Turned these methods into proper properties making user code a bit more compact.</p>
<h4 id="the-info-event-was-moved-from-map-to-mapcontrol">The Info event was moved from Map to MapControl</h4>
<p>The MapControl contains most other events as well</p>
<h4 id="removed-the-infolayer-list-and-add-an-infolayer-boolean-on-ilayer">Removed the InfoLayer list and add an InfoLayer boolean on ILayer</h4>
<p>To indicate that a layer is a info layer you now need to set it's
InfoLayer property. In v1.4 it had to be added to the list of InfoLayers.</p>
<h4 id="removed-the-hoverlayer-method">Removed the HoverLayer method.</h4>
<p>This is because hover could not be implemented crossplatform and could harm performance.
It it is still possible to implement hover yourself using a direct call to MapControl.GetMapInfo.</p>
<h4 id="invert-label-alignment-bottomtop">Invert label alignment bottom/top.</h4>
<p>This was incorrect in v1.4. This will not cause a compile error so don't forget
to do a search-replace to fix it.</p>
<h4 id="removed-zoominzoomout-from-wpf-mapcontrol">Removed ZoomIn/ZoomOut from WPF MapControl</h4>
<p>Use the ZoomIn/ZoomOut methode on the navigator.</p>
<h4 id="some-other-changes">Some other changes</h4>
<ul>
<li>Move Info event from Map to MapControl</li>
<li>Do not derive ILayer from IAsyncDataFetcher.</li>
<li>Remove WPFs MapControl.ErrorMessage</li>
<li>Rename PanMode.None and ZoomMode.None.</li>
<li>Remove the InfoLayer list and add an InfoLayer boolean on ILayer</li>
<li>Remove the HoverLayer method. It is not crossplatform and can affect performance.</li>
<li>Wrap Viewport in LimitingViewport which limits it to user settings, or access through Navigator.</li>
<li>PanLock and ZoomLock working on all platforms.</li>
<li>Rework ViewportLimiter</li>
</ul>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/inforithmics/Mapsui/blob/main/docfx/documentation/v2.0-upgrade-guide.md/#L1" class="contribution-link">Edit this page</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In this article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      
      <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
